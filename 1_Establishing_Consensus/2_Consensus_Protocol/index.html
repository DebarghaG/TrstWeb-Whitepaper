



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Understading Consensus - TrstWeb Whitepaper</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#understading-consensus" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="TrstWeb Whitepaper" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              TrstWeb Whitepaper
            </span>
            <span class="md-header-nav__topic">
              
                Understading Consensus
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="TrstWeb Whitepaper" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    TrstWeb Whitepaper
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      1 Establishing Consensus
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        1 Establishing Consensus
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../1_TrstWeb-as-a-distributed-system/" title="The TrstWeb as a Distributed System" class="md-nav__link">
      The TrstWeb as a Distributed System
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Understading Consensus
      </label>
    
    <a href="./" title="Understading Consensus" class="md-nav__link md-nav__link--active">
      Understading Consensus
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#an-introduction-to-consensus" class="md-nav__link">
    An Introduction to Consensus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#byzatine-fault-tolerance" class="md-nav__link">
    Byzatine Fault Tolerance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-scheduling-and-assumptions" class="md-nav__link">
    Authentication, Scheduling and Assumptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-trstweb-consensus-protocol" class="md-nav__link">
    The TrstWeb Consensus Protocol
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scoping-system-requirements" class="md-nav__link">
    Scoping System Requirements
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3_Flexible Trust/" title="Flexible Trust" class="md-nav__link">
      Flexible Trust
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../4_Voting/" title="Voting" class="md-nav__link">
      Voting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../5_SPEC/" title="TrstConsensus Spec" class="md-nav__link">
      TrstConsensus Spec
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      2 Secure Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        2 Secure Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../2_Secure Data/Data/" title="Local Data" class="md-nav__link">
      Local Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2_Secure Data/Digital_Security/" title="Verifying Authenticity" class="md-nav__link">
      Verifying Authenticity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2_Secure Data/Merkle_Trees/" title="Merkle Trees" class="md-nav__link">
      Merkle Trees
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../2_Secure Data/OffChainData/" title="OffChainData" class="md-nav__link">
      OffChainData
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      3 Accessible Compute Infrastructure
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        3 Accessible Compute Infrastructure
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../3_Accessible_Compute_Infrastructure/5_ParallelCompute/" title="Compute Middleware" class="md-nav__link">
      Compute Middleware
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      4 TrstApps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        4 TrstApps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../4_TrstApps/3_Apps/" title="Verifiable and Non-Censorable Applications" class="md-nav__link">
      Verifiable and Non-Censorable Applications
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      5 Philosophy
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        5 Philosophy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../5_Philosophy/0_Philosophy/" title="Philosophy of our Design Decisions" class="md-nav__link">
      Philosophy of our Design Decisions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Previous Works and Citations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Previous Works and Citations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Previous Works and Citations/9_citations/" title="Citations" class="md-nav__link">
      Citations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#an-introduction-to-consensus" class="md-nav__link">
    An Introduction to Consensus
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#byzatine-fault-tolerance" class="md-nav__link">
    Byzatine Fault Tolerance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-scheduling-and-assumptions" class="md-nav__link">
    Authentication, Scheduling and Assumptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-trstweb-consensus-protocol" class="md-nav__link">
    The TrstWeb Consensus Protocol
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scoping-system-requirements" class="md-nav__link">
    Scoping System Requirements
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="understading-consensus">Understading Consensus</h1>
<h3 id="an-introduction-to-consensus">An Introduction to Consensus</h3>
<p align="justify">Agreement amongst the different nodes in our system is a fundamental requirement. In nature, this occurs by the exchange of information and negotiation amongst those involved to reach a common understanding or agreement, before taking an irreversible action.</p>

<p><img src="../../img/Nodes.png" alt="Nodes in the System" width=400 align=right hspace=25 vspace=20/></p>
<h3 id="byzatine-fault-tolerance">Byzatine Fault Tolerance</h3>
<p align="justify">
Amongst the <b><i>n</b></i> processes of the system, at most <b><i>f</b></i> of them can be faulty.
<br><br>
A faulty process can behave in any manner allowed by the failure model. The Byzatine failure model, has been chosen, because fail-stop models and send/receive omission models have a probability of behaving unpredictably.
<br><br>
As the scientific literature shows, consensus around an asynchronous system can&#39;t be established, hence we&#39;re narrowing down to synchronous systems in which the non-arrival of an expected message can be dealt with by assuming the arrival of a message with default data, and moving on to the next round of the algorithm.
<br><br>
Here we are considering full logical connectivity within the local cluster, where each node can communicate with another with the help of message passing.
<br><br>
We&#39;ll therefore be using our protocol to solve the <b>Byzatine Agreement Problem</b> , <b>the consensus problem</b> and the <b>interactive consistency problem</b> , interchangeably, as a generalisation.
</p>

<p><br></p>
<h3 id="authentication-scheduling-and-assumptions">Authentication, Scheduling and Assumptions</h3>
<p>Authentication, discussed further in the paper, ensures that every node knows the identity of the sender process. The protocol, also uses an authentication in the form of a digital signature, which makes sure that if a node forges a message or tampers with the contents of the received message before it has been relayed, the recipient can detect the forgery or tampering - thereby reducing the damage that faulty nodes can cause.</p>
<p>We&#39;re also assuming that the different rounds of the consensus protocol, are dealt with in the form of sub-rounds with the message passing being synchronised with the help of a scheduler.</p>
<p>A simplification of the problem statement, can be yielded by assuming that the channel is reliable, therefore meaning channel instabilities are handled by our byzatine failure model.</p>
<p><br></p>
<h2 id="the-trstweb-consensus-protocol">The TrstWeb Consensus Protocol</h2>
<p>The TRSTWeb Consensus Protocol relies on an extended form of the Federated Byzantine Agreement, currently in production, with Ripple and the Stellar Consensus Protocol. The extension to the aforementioned FBA protocol, lie in the domain of hierarchial clustering of nodes, and leader election, therefore preserving the original theoretical proofs of security.</p>
<p>Let&#39;s consider that our global system, consists of a loose confederation of nodes, each of which have chosen their own set of nodes they trust globally - each running the TrstWeb software as the middleware. <strong>Using a replicated state machine approach towards managing secure data, we must establish consensus first.</strong></p>
<p><img src="../../img/ReplicatedStateMachine.png" alt="Replicated State Machine" width=220 align="right" hspace="30"/></p>
<p align="justify">
<i>The problem statement, defined, would be to uniformly manage said replication, across all the nodes uniformly, such that it remains in sync. Now, all the replicas rely on the same state of the system, and agree on the same exact sequence of deterministic operations, so as to arrive at the next state.</i>
</p>

<p>Simplifying further, heuristically, the question comes down to if the <strong>node V</strong> can apply the <strong>update x</strong> on the <strong>slot n</strong>. System wide agreement on a system is possible when a sufficient threshold of messages have been passed through the network. We also assume that irreversible actions happen every time an action is committed by a node, meaning the node can&#39;t change it&#39;s history.</p>
<p>This forms the backbone of the trust mechanism, and is also reffered to as the blockchain, or the distributed leger.
<img src="../../img/ledger.jpeg" alt="Ledger" width=500 align="left" hspace="100" vspace="10"/></p>
<p><br><br></p>
<h2 id="scoping-system-requirements">Scoping System Requirements</h2>
<p>The consensus problem based on top of the byzatine agreement problem requires a node with an initial state to reach an agreement in the form of a single value, with all the other nodes in the system.</p>
<p>Formally, in the system, we&#39;d like it to have safety in terms of both agreement and validity, as well as termination.</p>
<ol>
<li><strong>Termination :</strong> All non-faulty processes eventually decide on a value</li>
<li><strong>Agreement :</strong> All processes that decide do so on the same value</li>
<li><strong>Validity :</strong> The value that has been decided must have proposed by some process</li>
</ol>
<p>Due to the FLP impossibility result, however, we can&#39;t achieve all of the above. We&#39;ll be exploring possible tradeoffs further in the paper.</p>
<p><br><br></p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../1_TrstWeb-as-a-distributed-system/" title="The TrstWeb as a Distributed System" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                The TrstWeb as a Distributed System
              </span>
            </div>
          </a>
        
        
          <a href="../3_Flexible Trust/" title="Flexible Trust" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Flexible Trust
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>